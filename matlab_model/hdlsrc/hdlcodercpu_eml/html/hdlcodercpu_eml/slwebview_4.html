<html xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <title>hdlcodercpu_eml/CPU_Subsystem_8_bit/Control Unit</title></head><link rel="StyleSheet" href="slwebview.css" type="text/css"><script type="text/javascript" src="id_mapping.js"></script><script type="text/javascript" src="slwebview.js"></script><script type="text/javascript" src="slwebview_utils.js"></script><script type="text/javascript" src="slhtmltoolbar.js"></script><body onload="addToolbar('toolbarDiv');if (top) top.emlFileOnload(document);"><table><tr><td><div id="toolbarDiv" style="display:inline"></div></td><td class="content" style="vertical-align:middle">Control Unit</td></tr></table><table border="0" cellpadding="4" cellspacing="0"><tr id="LN_1"><td align="right"><pre><a name="1">1</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:1','1')"><span style="color:blue">function</span> [shifter_sel, out_flags, ALU_func, <span style="color:blue">...</span>
</span></pre></td></tr><tr id="LN_2"><td align="right"><pre><a name="2">2</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:2','2')">    print_data, DM_addr, DM_r_w, AC_func, AC_data, IR_func, <span style="color:blue">...</span>
</span></pre></td></tr><tr id="LN_3"><td align="right"><pre><a name="3">3</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:3','3')">    PC_func, addr_inc, IM_read, hlt] = Controller(data_in, in_flags, master_rst, IR_in)
</span></pre></td></tr><tr id="LN_4"><td align="right"><pre><a name="4">4</a></pre></td><td align="left"><pre><span><span style="color:green">% CPU Controller</span>
</span></pre></td></tr><tr id="LN_5"><td align="right"><pre><a name="5">5</a></pre></td><td align="left"><pre><span><span style="color:green">%</span>
</span></pre></td></tr><tr id="LN_6"><td align="right"><pre><a name="6">6</a></pre></td><td align="left"><pre><span><span style="color:green">% The CPU Instruction Set:</span>
</span></pre></td></tr><tr id="LN_7"><td align="right"><pre><a name="7">7</a></pre></td><td align="left"><pre><span><span style="color:green">% ------------------------</span>
</span></pre></td></tr><tr id="LN_8"><td align="right"><pre><a name="8">8</a></pre></td><td align="left"><pre><span><span style="color:green">% </span>
</span></pre></td></tr><tr id="LN_9"><td align="right"><pre><a name="9">9</a></pre></td><td align="left"><pre><span><span style="color:green">% LDA &lt;loc&gt;: AC = content(&lt;loc&gt;)</span>
</span></pre></td></tr><tr id="LN_10"><td align="right"><pre><a name="10">10</a></pre></td><td align="left"><pre><span><span style="color:green">% LDAI &lt;loc&gt;: AC = content(content(&lt;loc&gt;))</span>
</span></pre></td></tr><tr id="LN_11"><td align="right"><pre><a name="11">11</a></pre></td><td align="left"><pre><span><span style="color:green">% AND &lt;loc&gt;: AC = AC &amp; content(&lt;loc&gt;)</span>
</span></pre></td></tr><tr id="LN_12"><td align="right"><pre><a name="12">12</a></pre></td><td align="left"><pre><span><span style="color:green">% ANDI &lt;loc&gt;: AC = AC &amp; content(content(&lt;loc&gt;))</span>
</span></pre></td></tr><tr id="LN_13"><td align="right"><pre><a name="13">13</a></pre></td><td align="left"><pre><span><span style="color:green">% ADD &lt;loc&gt;: AC = AC + content(&lt;loc&gt;) + C(flag) </span>
</span></pre></td></tr><tr id="LN_14"><td align="right"><pre><a name="14">14</a></pre></td><td align="left"><pre><span><span style="color:green">% ADDI &lt;loc&gt;: AC = AC + content(content(&lt;loc&gt;)) + C(flag)</span>
</span></pre></td></tr><tr id="LN_15"><td align="right"><pre><a name="15">15</a></pre></td><td align="left"><pre><span><span style="color:green">% SUB &lt;loc&gt;: AC = AC - content(&lt;loc&gt;) - C(flag) </span>
</span></pre></td></tr><tr id="LN_16"><td align="right"><pre><a name="16">16</a></pre></td><td align="left"><pre><span><span style="color:green">% SUBI &lt;loc&gt;: AC = AC - content(content(&lt;loc&gt;)) - C(flag)</span>
</span></pre></td></tr><tr id="LN_17"><td align="right"><pre><a name="17">17</a></pre></td><td align="left"><pre><span><span style="color:green">% JMP &lt;loc&gt;: Jump to &lt;PC + &lt;loc&gt;&gt;</span>
</span></pre></td></tr><tr id="LN_18"><td align="right"><pre><a name="18">18</a></pre></td><td align="left"><pre><span><span style="color:green">% LI &lt;const&gt;: AC = &lt;const&gt;</span>
</span></pre></td></tr><tr id="LN_19"><td align="right"><pre><a name="19">19</a></pre></td><td align="left"><pre><span><span style="color:green">% STA &lt;loc&gt;: content(&lt;loc&gt;) = AC</span>
</span></pre></td></tr><tr id="LN_20"><td align="right"><pre><a name="20">20</a></pre></td><td align="left"><pre><span><span style="color:green">% STAI &lt;loc&gt;: content(content(&lt;loc&gt;)) = AC</span>
</span></pre></td></tr><tr id="LN_21"><td align="right"><pre><a name="21">21</a></pre></td><td align="left"><pre><span><span style="color:green">% BRA_C &lt;loc&gt;: Jump to &lt;PC + &lt;loc&gt;&gt; if (C(flag) == 1)</span>
</span></pre></td></tr><tr id="LN_22"><td align="right"><pre><a name="22">22</a></pre></td><td align="left"><pre><span><span style="color:green">% BRA_N &lt;loc&gt;: Jump to &lt;PC + &lt;loc&gt;&gt; if (N(flag) == 1)</span>
</span></pre></td></tr><tr id="LN_23"><td align="right"><pre><a name="23">23</a></pre></td><td align="left"><pre><span><span style="color:green">% BRA_V &lt;loc&gt;: Jump to &lt;PC + &lt;loc&gt;&gt; if (V(flag) == 1)</span>
</span></pre></td></tr><tr id="LN_24"><td align="right"><pre><a name="24">24</a></pre></td><td align="left"><pre><span><span style="color:green">% BRA_Z &lt;loc&gt;: Jump to &lt;PC + &lt;loc&gt;&gt; if (Z(flag) == 1)</span>
</span></pre></td></tr><tr id="LN_25"><td align="right"><pre><a name="25">25</a></pre></td><td align="left"><pre><span><span style="color:green">% NOP: Do nothing</span>
</span></pre></td></tr><tr id="LN_26"><td align="right"><pre><a name="26">26</a></pre></td><td align="left"><pre><span><span style="color:green">% CLA: AC = 0</span>
</span></pre></td></tr><tr id="LN_27"><td align="right"><pre><a name="27">27</a></pre></td><td align="left"><pre><span><span style="color:green">% CMA: Complement AC</span>
</span></pre></td></tr><tr id="LN_28"><td align="right"><pre><a name="28">28</a></pre></td><td align="left"><pre><span><span style="color:green">% CMC: Complement C(flag)</span>
</span></pre></td></tr><tr id="LN_29"><td align="right"><pre><a name="29">29</a></pre></td><td align="left"><pre><span><span style="color:green">% ASL: AC = AC &lt;&lt; 1</span>
</span></pre></td></tr><tr id="LN_30"><td align="right"><pre><a name="30">30</a></pre></td><td align="left"><pre><span><span style="color:green">% ASR: AC = AC &gt;&gt; 1</span>
</span></pre></td></tr><tr id="LN_31"><td align="right"><pre><a name="31">31</a></pre></td><td align="left"><pre><span><span style="color:green">% PRINT: Display value from the memory-mapped location 255</span>
</span></pre></td></tr><tr id="LN_32"><td align="right"><pre><a name="32">32</a></pre></td><td align="left"><pre><span><span style="color:green">% CLC: C(flag) = 0</span>
</span></pre></td></tr><tr id="LN_33"><td align="right"><pre><a name="33">33</a></pre></td><td align="left"><pre><span><span style="color:green">%</span>
</span></pre></td></tr><tr id="LN_34"><td align="right"><pre><a name="34">34</a></pre></td><td align="left"><pre><span><span style="color:green">% 12-bit Instruction Encoding:</span>
</span></pre></td></tr><tr id="LN_35"><td align="right"><pre><a name="35">35</a></pre></td><td align="left"><pre><span><span style="color:green">% ---------------------------</span>
</span></pre></td></tr><tr id="LN_36"><td align="right"><pre><a name="36">36</a></pre></td><td align="left"><pre><span><span style="color:green">%</span>
</span></pre></td></tr><tr id="LN_37"><td align="right"><pre><a name="37">37</a></pre></td><td align="left"><pre><span><span style="color:green">% 	LDA:   000 0 &lt;8-bit loc&gt;</span>
</span></pre></td></tr><tr id="LN_38"><td align="right"><pre><a name="38">38</a></pre></td><td align="left"><pre><span><span style="color:green">% 	LDAI:  000 1 &lt;8-bit loc&gt;</span>
</span></pre></td></tr><tr id="LN_39"><td align="right"><pre><a name="39">39</a></pre></td><td align="left"><pre><span><span style="color:green">% 	AND:   001 0 &lt;8-bit loc&gt;</span>
</span></pre></td></tr><tr id="LN_40"><td align="right"><pre><a name="40">40</a></pre></td><td align="left"><pre><span><span style="color:green">% 	ANDI:  001 1 &lt;8-bit loc&gt;</span>
</span></pre></td></tr><tr id="LN_41"><td align="right"><pre><a name="41">41</a></pre></td><td align="left"><pre><span><span style="color:green">% 	ADD:   010 0 &lt;8-bit loc&gt;</span>
</span></pre></td></tr><tr id="LN_42"><td align="right"><pre><a name="42">42</a></pre></td><td align="left"><pre><span><span style="color:green">% 	ADDI:  010 1 &lt;8-bit loc&gt;</span>
</span></pre></td></tr><tr id="LN_43"><td align="right"><pre><a name="43">43</a></pre></td><td align="left"><pre><span><span style="color:green">% 	SUB:   011 0 &lt;8-bit loc&gt;</span>
</span></pre></td></tr><tr id="LN_44"><td align="right"><pre><a name="44">44</a></pre></td><td align="left"><pre><span><span style="color:green">% 	SUBI:  011 1 &lt;8-bit loc&gt;</span>
</span></pre></td></tr><tr id="LN_45"><td align="right"><pre><a name="45">45</a></pre></td><td align="left"><pre><span><span style="color:green">% 	JMP:   1000 &lt;8-bit loc&gt;</span>
</span></pre></td></tr><tr id="LN_46"><td align="right"><pre><a name="46">46</a></pre></td><td align="left"><pre><span><span style="color:green">% 	LI:    1001 &lt;8-bit const&gt;</span>
</span></pre></td></tr><tr id="LN_47"><td align="right"><pre><a name="47">47</a></pre></td><td align="left"><pre><span><span style="color:green">% 	STA:   101 0 &lt;8-bit loc&gt;</span>
</span></pre></td></tr><tr id="LN_48"><td align="right"><pre><a name="48">48</a></pre></td><td align="left"><pre><span><span style="color:green">% 	STAI:  101 1 &lt;8-bit loc&gt;</span>
</span></pre></td></tr><tr id="LN_49"><td align="right"><pre><a name="49">49</a></pre></td><td align="left"><pre><span><span style="color:green">% 	BRA_C: 1100 &lt;8-bit loc&gt;</span>
</span></pre></td></tr><tr id="LN_50"><td align="right"><pre><a name="50">50</a></pre></td><td align="left"><pre><span><span style="color:green">% 	BRA_N: 1101 &lt;8-bit loc&gt;</span>
</span></pre></td></tr><tr id="LN_51"><td align="right"><pre><a name="51">51</a></pre></td><td align="left"><pre><span><span style="color:green">% 	BRA_C: 1110 &lt;8-bit loc&gt;</span>
</span></pre></td></tr><tr id="LN_52"><td align="right"><pre><a name="52">52</a></pre></td><td align="left"><pre><span><span style="color:green">% 	BRA_C: 1111 &lt;8-bit loc&gt;</span>
</span></pre></td></tr><tr id="LN_53"><td align="right"><pre><a name="53">53</a></pre></td><td align="left"><pre><span><span style="color:green">% 	HLT:   111 0 0100 0 000 </span>
</span></pre></td></tr><tr id="LN_54"><td align="right"><pre><a name="54">54</a></pre></td><td align="left"><pre><span><span style="color:green">% 	CLA:   111 0 0100 1 000</span>
</span></pre></td></tr><tr id="LN_55"><td align="right"><pre><a name="55">55</a></pre></td><td align="left"><pre><span><span style="color:green">% 	CMA:   111 0 0101 0 000</span>
</span></pre></td></tr><tr id="LN_56"><td align="right"><pre><a name="56">56</a></pre></td><td align="left"><pre><span><span style="color:green">% 	CMC:   111 0 0101 1 000</span>
</span></pre></td></tr><tr id="LN_57"><td align="right"><pre><a name="57">57</a></pre></td><td align="left"><pre><span><span style="color:green">% 	ASL:   111 0 0110 0 000</span>
</span></pre></td></tr><tr id="LN_58"><td align="right"><pre><a name="58">58</a></pre></td><td align="left"><pre><span><span style="color:green">% 	ASR:   111 0 0110 1 000</span>
</span></pre></td></tr><tr id="LN_59"><td align="right"><pre><a name="59">59</a></pre></td><td align="left"><pre><span><span style="color:green">% 	PRINT: 111 0 0111 0 000</span>
</span></pre></td></tr><tr id="LN_60"><td align="right"><pre><a name="60">60</a></pre></td><td align="left"><pre><span><span style="color:green">% 	CLC:   111 0 0111 1 000  </span>
</span></pre></td></tr><tr id="LN_61"><td align="right"><pre><a name="61">61</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_62"><td align="right"><pre><a name="62">62</a></pre></td><td align="left"><pre><span><span style="color:green">% HDL specific fimath</span>
</span></pre></td></tr><tr id="LN_63"><td align="right"><pre><a name="63">63</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:63','63')">hdl_fm = fimath(<span style="color:blue">...</span>
</span></pre></td></tr><tr id="LN_64"><td align="right"><pre><a name="64">64</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:64','64')"><span style="color:#B20000">'RoundMode'</span>, <span style="color:#B20000">'floor'</span>,<span style="color:blue">...</span>
</span></pre></td></tr><tr id="LN_65"><td align="right"><pre><a name="65">65</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:65','65')"><span style="color:#B20000">'OverflowMode'</span>, <span style="color:#B20000">'wrap'</span>,<span style="color:blue">...</span>
</span></pre></td></tr><tr id="LN_66"><td align="right"><pre><a name="66">66</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:66','66')"><span style="color:#B20000">'ProductMode'</span>, <span style="color:#B20000">'FullPrecision'</span>, <span style="color:#B20000">'ProductWordLength'</span>, 32,<span style="color:blue">...</span>
</span></pre></td></tr><tr id="LN_67"><td align="right"><pre><a name="67">67</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:67','67')"><span style="color:#B20000">'SumMode'</span>, <span style="color:#B20000">'FullPrecision'</span>, <span style="color:#B20000">'SumWordLength'</span>, 32,<span style="color:blue">...</span>
</span></pre></td></tr><tr id="LN_68"><td align="right"><pre><a name="68">68</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:68','68')"><span style="color:#B20000">'CastBeforeSum'</span>, true);
</span></pre></td></tr><tr id="LN_69"><td align="right"><pre><a name="69">69</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_70"><td align="right"><pre><a name="70">70</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_71"><td align="right"><pre><a name="71">71</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:71','71')"><span style="color:blue">persistent</span> CPU_state;
</span></pre></td></tr><tr id="LN_72"><td align="right"><pre><a name="72">72</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:72','72')"><span style="color:blue">if</span>(isempty(CPU_state))
</span></pre></td></tr><tr id="LN_73"><td align="right"><pre><a name="73">73</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:73','73')">    CPU_state = uint8(0);
</span></pre></td></tr><tr id="LN_74"><td align="right"><pre><a name="74">74</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:74','74')"><span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_75"><td align="right"><pre><a name="75">75</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_76"><td align="right"><pre><a name="76">76</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:76','76')"><span style="color:blue">persistent</span> previous_CPU_state;
</span></pre></td></tr><tr id="LN_77"><td align="right"><pre><a name="77">77</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:77','77')"><span style="color:blue">if</span>(isempty(previous_CPU_state))
</span></pre></td></tr><tr id="LN_78"><td align="right"><pre><a name="78">78</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:78','78')">    previous_CPU_state = uint8(0);
</span></pre></td></tr><tr id="LN_79"><td align="right"><pre><a name="79">79</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:79','79')"><span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_80"><td align="right"><pre><a name="80">80</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_81"><td align="right"><pre><a name="81">81</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:81','81')"><span style="color:blue">if</span>(master_rst)
</span></pre></td></tr><tr id="LN_82"><td align="right"><pre><a name="82">82</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:82','82')">    CPU_state = uint8(0);
</span></pre></td></tr><tr id="LN_83"><td align="right"><pre><a name="83">83</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:83','83')"><span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_84"><td align="right"><pre><a name="84">84</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_85"><td align="right"><pre><a name="85">85</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:85','85')">shifter_sel = fi(0, 0, 2, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_86"><td align="right"><pre><a name="86">86</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:86','86')">ALU_func = fi(0, 0, 3, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_87"><td align="right"><pre><a name="87">87</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:87','87')">out_flags = in_flags;
</span></pre></td></tr><tr id="LN_88"><td align="right"><pre><a name="88">88</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:88','88')">AC_func = fi(4, 0, 3, 0, hdl_fm);  <span style="color:green">% NOP</span>
</span></pre></td></tr><tr id="LN_89"><td align="right"><pre><a name="89">89</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:89','89')">AC_data = fi(0, 1, 8, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_90"><td align="right"><pre><a name="90">90</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:90','90')">IR_func = fi(3, 0, 2, 0, hdl_fm);  <span style="color:green">% NOP</span>
</span></pre></td></tr><tr id="LN_91"><td align="right"><pre><a name="91">91</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:91','91')">PC_func = fi(3, 0, 2, 0, hdl_fm);  <span style="color:green">% NOP</span>
</span></pre></td></tr><tr id="LN_92"><td align="right"><pre><a name="92">92</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:92','92')">IM_read = fi(0, 0, 1, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_93"><td align="right"><pre><a name="93">93</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:93','93')">DM_addr = uint8(0);
</span></pre></td></tr><tr id="LN_94"><td align="right"><pre><a name="94">94</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:94','94')">DM_r_w = fi(0, 0, 1, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_95"><td align="right"><pre><a name="95">95</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:95','95')">addr_inc = fi(0, 1, 8, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_96"><td align="right"><pre><a name="96">96</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:96','96')">print_data = false;
</span></pre></td></tr><tr id="LN_97"><td align="right"><pre><a name="97">97</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:97','97')">hlt = uint8(0);
</span></pre></td></tr><tr id="LN_98"><td align="right"><pre><a name="98">98</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_99"><td align="right"><pre><a name="99">99</a></pre></td><td align="left"><pre><span><span style="color:green">% Instruction: &lt;12..1&gt;</span>
</span></pre></td></tr><tr id="LN_100"><td align="right"><pre><a name="100">100</a></pre></td><td align="left"><pre><span><span style="color:green">% major_opcode: &lt;12..10&gt;</span>
</span></pre></td></tr><tr id="LN_101"><td align="right"><pre><a name="101">101</a></pre></td><td align="left"><pre><span><span style="color:green">% indirect_addressing: &lt;9&gt;</span>
</span></pre></td></tr><tr id="LN_102"><td align="right"><pre><a name="102">102</a></pre></td><td align="left"><pre><span><span style="color:green">% minor_opcode: &lt;9..4&gt;</span>
</span></pre></td></tr><tr id="LN_103"><td align="right"><pre><a name="103">103</a></pre></td><td align="left"><pre><span><span style="color:green">% address bits: &lt;8..1&gt;</span>
</span></pre></td></tr><tr id="LN_104"><td align="right"><pre><a name="104">104</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_105"><td align="right"><pre><a name="105">105</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:105','105')"><span style="color:blue">persistent</span> major_opcode; 
</span></pre></td></tr><tr id="LN_106"><td align="right"><pre><a name="106">106</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:106','106')"><span style="color:blue">persistent</span> minor_opcode; 
</span></pre></td></tr><tr id="LN_107"><td align="right"><pre><a name="107">107</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:107','107')"><span style="color:blue">persistent</span> address_data;
</span></pre></td></tr><tr id="LN_108"><td align="right"><pre><a name="108">108</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:108','108')"><span style="color:blue">persistent</span> indirect_address;
</span></pre></td></tr><tr id="LN_109"><td align="right"><pre><a name="109">109</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_110"><td align="right"><pre><a name="110">110</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:110','110')"><span style="color:blue">if</span>(isempty(major_opcode))
</span></pre></td></tr><tr id="LN_111"><td align="right"><pre><a name="111">111</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:111','111')">    major_opcode = fi(0, 0, 8, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_112"><td align="right"><pre><a name="112">112</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:112','112')">    minor_opcode = fi(0, 0, 8, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_113"><td align="right"><pre><a name="113">113</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:113','113')">    address_data = fi(0, 0, 8, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_114"><td align="right"><pre><a name="114">114</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:114','114')">    indirect_address = uint8(0);
</span></pre></td></tr><tr id="LN_115"><td align="right"><pre><a name="115">115</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:115','115')"><span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_116"><td align="right"><pre><a name="116">116</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_117"><td align="right"><pre><a name="117">117</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:117','117')"><span style="color:blue">switch</span>(CPU_state)
</span></pre></td></tr><tr id="LN_118"><td align="right"><pre><a name="118">118</a></pre></td><td align="left"><pre><span>    <span style="color:green">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
</span></pre></td></tr><tr id="LN_119"><td align="right"><pre><a name="119">119</a></pre></td><td align="left"><pre><span>    <span style="color:green">%  RESETTING OUTPUTS</span>
</span></pre></td></tr><tr id="LN_120"><td align="right"><pre><a name="120">120</a></pre></td><td align="left"><pre><span>    <span style="color:green">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
</span></pre></td></tr><tr id="LN_121"><td align="right"><pre><a name="121">121</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:121','121')">    <span style="color:blue">case</span> 0,
</span></pre></td></tr><tr id="LN_122"><td align="right"><pre><a name="122">122</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:122','122')">        PC_func = fi(0, 0, 2, 0, hdl_fm);   
</span></pre></td></tr><tr id="LN_123"><td align="right"><pre><a name="123">123</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:123','123')">        AC_func = fi(0, 0, 3, 0, hdl_fm);   
</span></pre></td></tr><tr id="LN_124"><td align="right"><pre><a name="124">124</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:124','124')">        IR_func = fi(0, 0, 2, 0, hdl_fm);   
</span></pre></td></tr><tr id="LN_125"><td align="right"><pre><a name="125">125</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:125','125')">        previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_126"><td align="right"><pre><a name="126">126</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:126','126')">        CPU_state = uint8(1);
</span></pre></td></tr><tr id="LN_127"><td align="right"><pre><a name="127">127</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_128"><td align="right"><pre><a name="128">128</a></pre></td><td align="left"><pre><span>    <span style="color:green">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
</span></pre></td></tr><tr id="LN_129"><td align="right"><pre><a name="129">129</a></pre></td><td align="left"><pre><span>    <span style="color:green">%  FETCH</span>
</span></pre></td></tr><tr id="LN_130"><td align="right"><pre><a name="130">130</a></pre></td><td align="left"><pre><span>    <span style="color:green">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
</span></pre></td></tr><tr id="LN_131"><td align="right"><pre><a name="131">131</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:131','131')">    <span style="color:blue">case</span> 1,  
</span></pre></td></tr><tr id="LN_132"><td align="right"><pre><a name="132">132</a></pre></td><td align="left"><pre><span>        <span style="color:green">% Read from IM</span>
</span></pre></td></tr><tr id="LN_133"><td align="right"><pre><a name="133">133</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:133','133')">        IM_read = fi(1, 0, 1, 0, hdl_fm);  
</span></pre></td></tr><tr id="LN_134"><td align="right"><pre><a name="134">134</a></pre></td><td align="left"><pre><span>        <span style="color:green">% Increment PC</span>
</span></pre></td></tr><tr id="LN_135"><td align="right"><pre><a name="135">135</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:135','135')">        PC_func = fi(2, 0, 2, 0, hdl_fm);  
</span></pre></td></tr><tr id="LN_136"><td align="right"><pre><a name="136">136</a></pre></td><td align="left"><pre><span>        <span style="color:green">% store into IR</span>
</span></pre></td></tr><tr id="LN_137"><td align="right"><pre><a name="137">137</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:137','137')">        IR_func = fi(1, 0, 2, 0, hdl_fm);  
</span></pre></td></tr><tr id="LN_138"><td align="right"><pre><a name="138">138</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_139"><td align="right"><pre><a name="139">139</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:139','139')">        CPU_state = uint8(2);
</span></pre></td></tr><tr id="LN_140"><td align="right"><pre><a name="140">140</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_141"><td align="right"><pre><a name="141">141</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:141','141')">    <span style="color:blue">case</span> 2, 
</span></pre></td></tr><tr id="LN_142"><td align="right"><pre><a name="142">142</a></pre></td><td align="left"><pre><span>        <span style="color:green">% Read from IR</span>
</span></pre></td></tr><tr id="LN_143"><td align="right"><pre><a name="143">143</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:143','143')">        IR_func = fi(2, 0, 2, 0, hdl_fm);  
</span></pre></td></tr><tr id="LN_144"><td align="right"><pre><a name="144">144</a></pre></td><td align="left"><pre><span>        <span style="color:green">% Accommodating for the 'unit delay' from IR_out to IR_in</span>
</span></pre></td></tr><tr id="LN_145"><td align="right"><pre><a name="145">145</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_146"><td align="right"><pre><a name="146">146</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:146','146')">        CPU_state = uint8(3);  
</span></pre></td></tr><tr id="LN_147"><td align="right"><pre><a name="147">147</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_148"><td align="right"><pre><a name="148">148</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:148','148')">    <span style="color:blue">case</span> 3,
</span></pre></td></tr><tr id="LN_149"><td align="right"><pre><a name="149">149</a></pre></td><td align="left"><pre><span>        <span style="color:green">% IR_in &lt;12..10&gt;</span>
</span></pre></td></tr><tr id="LN_150"><td align="right"><pre><a name="150">150</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:150','150')">        major_opcode = fi(bitsrl(IR_in, 9), 0, 8, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_151"><td align="right"><pre><a name="151">151</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:151','151')">        mask = fi(63, 0, 12, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_152"><td align="right"><pre><a name="152">152</a></pre></td><td align="left"><pre><span>        <span style="color:green">% IR_in &lt;9..4&gt;</span>
</span></pre></td></tr><tr id="LN_153"><td align="right"><pre><a name="153">153</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:153','153')">        minor_opcode = fi(bitand(bitsrl(IR_in, 3), mask), 0, 8, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_154"><td align="right"><pre><a name="154">154</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:154','154')">        mask = fi(255, 0, 12, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_155"><td align="right"><pre><a name="155">155</a></pre></td><td align="left"><pre><span>        <span style="color:green">% IR_in &lt;8..1&gt;</span>
</span></pre></td></tr><tr id="LN_156"><td align="right"><pre><a name="156">156</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:156','156')">        address_data = fi(bitand(IR_in, mask), 0, 8, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_157"><td align="right"><pre><a name="157">157</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_158"><td align="right"><pre><a name="158">158</a></pre></td><td align="left"><pre><span>        <span style="color:green">% Go to the decode stage</span>
</span></pre></td></tr><tr id="LN_159"><td align="right"><pre><a name="159">159</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:159','159')">        CPU_state = uint8(4);  
</span></pre></td></tr><tr id="LN_160"><td align="right"><pre><a name="160">160</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_161"><td align="right"><pre><a name="161">161</a></pre></td><td align="left"><pre><span>    <span style="color:green">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
</span></pre></td></tr><tr id="LN_162"><td align="right"><pre><a name="162">162</a></pre></td><td align="left"><pre><span>    <span style="color:green">%  DECODE AND EXECUTE</span>
</span></pre></td></tr><tr id="LN_163"><td align="right"><pre><a name="163">163</a></pre></td><td align="left"><pre><span>    <span style="color:green">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
</span></pre></td></tr><tr id="LN_164"><td align="right"><pre><a name="164">164</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:164','164')">    <span style="color:blue">case</span> 4,  
</span></pre></td></tr><tr id="LN_165"><td align="right"><pre><a name="165">165</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:165','165')">        previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_166"><td align="right"><pre><a name="166">166</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:166','166')">        <span style="color:blue">switch</span>(uint8(major_opcode))
</span></pre></td></tr><tr id="LN_167"><td align="right"><pre><a name="167">167</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:167','167')">            <span style="color:blue">case</span> 0,  
</span></pre></td></tr><tr id="LN_168"><td align="right"><pre><a name="168">168</a></pre></td><td align="left"><pre><span>                <span style="color:green">% LDA</span>
</span></pre></td></tr><tr id="LN_169"><td align="right"><pre><a name="169">169</a></pre></td><td align="left"><pre><span>                <span style="color:green">% minor_opcode contains the address (assuming direct addressing)</span>
</span></pre></td></tr><tr id="LN_170"><td align="right"><pre><a name="170">170</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:170','170')">                DM_addr = uint8(address_data); 
</span></pre></td></tr><tr id="LN_171"><td align="right"><pre><a name="171">171</a></pre></td><td align="left"><pre><span>                <span style="color:green">% Read the data memory</span>
</span></pre></td></tr><tr id="LN_172"><td align="right"><pre><a name="172">172</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:172','172')">                DM_r_w = fi(0, 0, 1, 0, hdl_fm); 
</span></pre></td></tr><tr id="LN_173"><td align="right"><pre><a name="173">173</a></pre></td><td align="left"><pre><span>                <span style="color:green">% Simply pass the value read from memory</span>
</span></pre></td></tr><tr id="LN_174"><td align="right"><pre><a name="174">174</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:174','174')">                CPU_state = uint8(13);
</span></pre></td></tr><tr id="LN_175"><td align="right"><pre><a name="175">175</a></pre></td><td align="left"><pre><span>                
</span></pre></td></tr><tr id="LN_176"><td align="right"><pre><a name="176">176</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:176','176')">            <span style="color:blue">case</span> 1,  
</span></pre></td></tr><tr id="LN_177"><td align="right"><pre><a name="177">177</a></pre></td><td align="left"><pre><span>                <span style="color:green">% AND           </span>
</span></pre></td></tr><tr id="LN_178"><td align="right"><pre><a name="178">178</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:178','178')">                DM_addr = uint8(address_data);
</span></pre></td></tr><tr id="LN_179"><td align="right"><pre><a name="179">179</a></pre></td><td align="left"><pre><span>                <span style="color:green">% Reading the data memory for address or data</span>
</span></pre></td></tr><tr id="LN_180"><td align="right"><pre><a name="180">180</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:180','180')">                DM_r_w = fi(0, 0, 1, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_181"><td align="right"><pre><a name="181">181</a></pre></td><td align="left"><pre><span>                
</span></pre></td></tr><tr id="LN_182"><td align="right"><pre><a name="182">182</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:182','182')">                CPU_state = uint8(15);
</span></pre></td></tr><tr id="LN_183"><td align="right"><pre><a name="183">183</a></pre></td><td align="left"><pre><span>                
</span></pre></td></tr><tr id="LN_184"><td align="right"><pre><a name="184">184</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:184','184')">            <span style="color:blue">case</span> 2,  
</span></pre></td></tr><tr id="LN_185"><td align="right"><pre><a name="185">185</a></pre></td><td align="left"><pre><span>                <span style="color:green">% ADD</span>
</span></pre></td></tr><tr id="LN_186"><td align="right"><pre><a name="186">186</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:186','186')">                DM_addr = uint8(address_data);
</span></pre></td></tr><tr id="LN_187"><td align="right"><pre><a name="187">187</a></pre></td><td align="left"><pre><span>                <span style="color:green">% Reading the data memory for address or data</span>
</span></pre></td></tr><tr id="LN_188"><td align="right"><pre><a name="188">188</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:188','188')">                DM_r_w = fi(0, 0, 1, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_189"><td align="right"><pre><a name="189">189</a></pre></td><td align="left"><pre><span>                
</span></pre></td></tr><tr id="LN_190"><td align="right"><pre><a name="190">190</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:190','190')">                CPU_state = uint8(17);
</span></pre></td></tr><tr id="LN_191"><td align="right"><pre><a name="191">191</a></pre></td><td align="left"><pre><span>                
</span></pre></td></tr><tr id="LN_192"><td align="right"><pre><a name="192">192</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:192','192')">            <span style="color:blue">case</span> 3,  
</span></pre></td></tr><tr id="LN_193"><td align="right"><pre><a name="193">193</a></pre></td><td align="left"><pre><span>                <span style="color:green">% SUB</span>
</span></pre></td></tr><tr id="LN_194"><td align="right"><pre><a name="194">194</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:194','194')">                DM_addr = uint8(address_data);
</span></pre></td></tr><tr id="LN_195"><td align="right"><pre><a name="195">195</a></pre></td><td align="left"><pre><span>                <span style="color:green">% Reading the data memory for address or data</span>
</span></pre></td></tr><tr id="LN_196"><td align="right"><pre><a name="196">196</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:196','196')">                DM_r_w = fi(0, 0, 1, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_197"><td align="right"><pre><a name="197">197</a></pre></td><td align="left"><pre><span>                
</span></pre></td></tr><tr id="LN_198"><td align="right"><pre><a name="198">198</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:198','198')">                CPU_state = uint8(19);
</span></pre></td></tr><tr id="LN_199"><td align="right"><pre><a name="199">199</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_200"><td align="right"><pre><a name="200">200</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:200','200')">            <span style="color:blue">case</span> 4,  
</span></pre></td></tr><tr id="LN_201"><td align="right"><pre><a name="201">201</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:201','201')">                minor_opcode_bit6 = bitget(minor_opcode, 6);
</span></pre></td></tr><tr id="LN_202"><td align="right"><pre><a name="202">202</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:202','202')">                <span style="color:blue">switch</span>(uint8(minor_opcode_bit6))
</span></pre></td></tr><tr id="LN_203"><td align="right"><pre><a name="203">203</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:203','203')">                    <span style="color:blue">case</span> 0, 
</span></pre></td></tr><tr id="LN_204"><td align="right"><pre><a name="204">204</a></pre></td><td align="left"><pre><span>                        <span style="color:green">% JMP</span>
</span></pre></td></tr><tr id="LN_205"><td align="right"><pre><a name="205">205</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:205','205')">                        temp_address_data = fi(address_data, 1, 7, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_206"><td align="right"><pre><a name="206">206</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:206','206')">                        addr_inc = fi(temp_address_data-1, 1, 8, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_207"><td align="right"><pre><a name="207">207</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:207','207')">                        PC_func = fi(1, 0, 2, 0, hdl_fm); 
</span></pre></td></tr><tr id="LN_208"><td align="right"><pre><a name="208">208</a></pre></td><td align="left"><pre><span>                        
</span></pre></td></tr><tr id="LN_209"><td align="right"><pre><a name="209">209</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:209','209')">                    <span style="color:blue">case</span> 1,
</span></pre></td></tr><tr id="LN_210"><td align="right"><pre><a name="210">210</a></pre></td><td align="left"><pre><span>                        <span style="color:green">% LI</span>
</span></pre></td></tr><tr id="LN_211"><td align="right"><pre><a name="211">211</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:211','211')">                        AC_data = fi(address_data, 1, 8, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_212"><td align="right"><pre><a name="212">212</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:212','212')">                        AC_func = fi(1, 0, 3, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_213"><td align="right"><pre><a name="213">213</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:213','213')">                <span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_214"><td align="right"><pre><a name="214">214</a></pre></td><td align="left"><pre><span>                <span style="color:green">% Go back to the fetch stage again</span>
</span></pre></td></tr><tr id="LN_215"><td align="right"><pre><a name="215">215</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:215','215')">                CPU_state = uint8(1);  
</span></pre></td></tr><tr id="LN_216"><td align="right"><pre><a name="216">216</a></pre></td><td align="left"><pre><span>                
</span></pre></td></tr><tr id="LN_217"><td align="right"><pre><a name="217">217</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:217','217')">            <span style="color:blue">case</span> 5,  
</span></pre></td></tr><tr id="LN_218"><td align="right"><pre><a name="218">218</a></pre></td><td align="left"><pre><span>                <span style="color:green">% STA</span>
</span></pre></td></tr><tr id="LN_219"><td align="right"><pre><a name="219">219</a></pre></td><td align="left"><pre><span>                <span style="color:green">% minor_opcode contains the address (assuming direct addressing)</span>
</span></pre></td></tr><tr id="LN_220"><td align="right"><pre><a name="220">220</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:220','220')">                DM_addr = uint8(address_data); 
</span></pre></td></tr><tr id="LN_221"><td align="right"><pre><a name="221">221</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:221','221')">                indirect_bit = bitget(minor_opcode, 6);
</span></pre></td></tr><tr id="LN_222"><td align="right"><pre><a name="222">222</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:222','222')">                <span style="color:blue">if</span>(logical(indirect_bit))
</span></pre></td></tr><tr id="LN_223"><td align="right"><pre><a name="223">223</a></pre></td><td align="left"><pre><span>                    <span style="color:green">% indirect addressing</span>
</span></pre></td></tr><tr id="LN_224"><td align="right"><pre><a name="224">224</a></pre></td><td align="left"><pre><span>                    <span style="color:green">% Read the address from the data memory</span>
</span></pre></td></tr><tr id="LN_225"><td align="right"><pre><a name="225">225</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:225','225')">                    DM_r_w = fi(0, 0, 1, 0, hdl_fm); 
</span></pre></td></tr><tr id="LN_226"><td align="right"><pre><a name="226">226</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:226','226')">                    CPU_state = uint8(21);
</span></pre></td></tr><tr id="LN_227"><td align="right"><pre><a name="227">227</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:227','227')">                <span style="color:blue">else</span>
</span></pre></td></tr><tr id="LN_228"><td align="right"><pre><a name="228">228</a></pre></td><td align="left"><pre><span>                    <span style="color:green">% Write into the data memory</span>
</span></pre></td></tr><tr id="LN_229"><td align="right"><pre><a name="229">229</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:229','229')">                    DM_r_w = fi(1, 0, 1, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_230"><td align="right"><pre><a name="230">230</a></pre></td><td align="left"><pre><span>                    <span style="color:green">% Go back to the fetch stage again</span>
</span></pre></td></tr><tr id="LN_231"><td align="right"><pre><a name="231">231</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:231','231')">                    CPU_state = uint8(25);  <span style="color:green">% going to 'otherwise'</span>
</span></pre></td></tr><tr id="LN_232"><td align="right"><pre><a name="232">232</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:232','232')">                <span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_233"><td align="right"><pre><a name="233">233</a></pre></td><td align="left"><pre><span>                
</span></pre></td></tr><tr id="LN_234"><td align="right"><pre><a name="234">234</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:234','234')">            <span style="color:blue">case</span> 6,
</span></pre></td></tr><tr id="LN_235"><td align="right"><pre><a name="235">235</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:235','235')">                minor_opcode_bit6 = bitget(minor_opcode, 6);
</span></pre></td></tr><tr id="LN_236"><td align="right"><pre><a name="236">236</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:236','236')">                <span style="color:blue">switch</span>(uint8(minor_opcode_bit6))
</span></pre></td></tr><tr id="LN_237"><td align="right"><pre><a name="237">237</a></pre></td><td align="left"><pre><span>                    <span style="color:green">% special branches:</span>
</span></pre></td></tr><tr id="LN_238"><td align="right"><pre><a name="238">238</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:238','238')">                    <span style="color:blue">case</span> 0, 
</span></pre></td></tr><tr id="LN_239"><td align="right"><pre><a name="239">239</a></pre></td><td align="left"><pre><span>                        <span style="color:green">% BRA_C</span>
</span></pre></td></tr><tr id="LN_240"><td align="right"><pre><a name="240">240</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:240','240')">                        c = bitget(in_flags, 4);
</span></pre></td></tr><tr id="LN_241"><td align="right"><pre><a name="241">241</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:241','241')">                        <span style="color:blue">if</span>(logical(c))
</span></pre></td></tr><tr id="LN_242"><td align="right"><pre><a name="242">242</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:242','242')">                            temp_address_data = fi(address_data, 1, 7, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_243"><td align="right"><pre><a name="243">243</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:243','243')">                            addr_inc = fi(temp_address_data-1, 1, 8, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_244"><td align="right"><pre><a name="244">244</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:244','244')">                            PC_func = fi(1, 0, 2, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_245"><td align="right"><pre><a name="245">245</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:245','245')">                        <span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_246"><td align="right"><pre><a name="246">246</a></pre></td><td align="left"><pre><span>                        
</span></pre></td></tr><tr id="LN_247"><td align="right"><pre><a name="247">247</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:247','247')">                    <span style="color:blue">case</span> 1,
</span></pre></td></tr><tr id="LN_248"><td align="right"><pre><a name="248">248</a></pre></td><td align="left"><pre><span>                        <span style="color:green">% BRA_N</span>
</span></pre></td></tr><tr id="LN_249"><td align="right"><pre><a name="249">249</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:249','249')">                        n = bitget(in_flags, 3);
</span></pre></td></tr><tr id="LN_250"><td align="right"><pre><a name="250">250</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:250','250')">                        <span style="color:blue">if</span>(logical(n))
</span></pre></td></tr><tr id="LN_251"><td align="right"><pre><a name="251">251</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:251','251')">                            temp_address_data = fi(address_data, 1, 7, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_252"><td align="right"><pre><a name="252">252</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:252','252')">                            addr_inc = fi(temp_address_data-1, 1, 8, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_253"><td align="right"><pre><a name="253">253</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:253','253')">                            PC_func = fi(1, 0, 2, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_254"><td align="right"><pre><a name="254">254</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:254','254')">                        <span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_255"><td align="right"><pre><a name="255">255</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:255','255')">                <span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_256"><td align="right"><pre><a name="256">256</a></pre></td><td align="left"><pre><span>                <span style="color:green">% Go back to the fetch stage again</span>
</span></pre></td></tr><tr id="LN_257"><td align="right"><pre><a name="257">257</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:257','257')">                CPU_state = uint8(15);
</span></pre></td></tr><tr id="LN_258"><td align="right"><pre><a name="258">258</a></pre></td><td align="left"><pre><span>                
</span></pre></td></tr><tr id="LN_259"><td align="right"><pre><a name="259">259</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:259','259')">            <span style="color:blue">case</span> 7,  
</span></pre></td></tr><tr id="LN_260"><td align="right"><pre><a name="260">260</a></pre></td><td align="left"><pre><span>                 <span style="color:green">% by default, go back to the fetch stage again</span>
</span></pre></td></tr><tr id="LN_261"><td align="right"><pre><a name="261">261</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:261','261')">                CPU_state = uint8(1);
</span></pre></td></tr><tr id="LN_262"><td align="right"><pre><a name="262">262</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:262','262')">                minor_opcode_bit4 = bitget(minor_opcode, 4);
</span></pre></td></tr><tr id="LN_263"><td align="right"><pre><a name="263">263</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:263','263')">                <span style="color:blue">if</span>(logical(minor_opcode_bit4) == 0)
</span></pre></td></tr><tr id="LN_264"><td align="right"><pre><a name="264">264</a></pre></td><td align="left"><pre><span>                    <span style="color:green">% Further cases of special branches:</span>
</span></pre></td></tr><tr id="LN_265"><td align="right"><pre><a name="265">265</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:265','265')">                    minor_opcode_bit6 = bitget(minor_opcode, 6);
</span></pre></td></tr><tr id="LN_266"><td align="right"><pre><a name="266">266</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:266','266')">                    <span style="color:blue">switch</span>(uint8(minor_opcode_bit6))
</span></pre></td></tr><tr id="LN_267"><td align="right"><pre><a name="267">267</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:267','267')">                        <span style="color:blue">case</span> 0, 
</span></pre></td></tr><tr id="LN_268"><td align="right"><pre><a name="268">268</a></pre></td><td align="left"><pre><span>                            <span style="color:green">% BRA_V</span>
</span></pre></td></tr><tr id="LN_269"><td align="right"><pre><a name="269">269</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:269','269')">                            v = bitget(in_flags, 2);
</span></pre></td></tr><tr id="LN_270"><td align="right"><pre><a name="270">270</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:270','270')">                            <span style="color:blue">if</span>(logical(v))
</span></pre></td></tr><tr id="LN_271"><td align="right"><pre><a name="271">271</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:271','271')">                                temp_address_data = fi(address_data, 1, 7, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_272"><td align="right"><pre><a name="272">272</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:272','272')">                                addr_inc = fi(temp_address_data-1, 1, 8, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_273"><td align="right"><pre><a name="273">273</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:273','273')">                                PC_func = fi(1, 0, 2, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_274"><td align="right"><pre><a name="274">274</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:274','274')">                            <span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_275"><td align="right"><pre><a name="275">275</a></pre></td><td align="left"><pre><span>                         
</span></pre></td></tr><tr id="LN_276"><td align="right"><pre><a name="276">276</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:276','276')">                        <span style="color:blue">case</span> 1, 
</span></pre></td></tr><tr id="LN_277"><td align="right"><pre><a name="277">277</a></pre></td><td align="left"><pre><span>                            <span style="color:green">% BRA_Z</span>
</span></pre></td></tr><tr id="LN_278"><td align="right"><pre><a name="278">278</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:278','278')">                            z = bitget(in_flags, 1);
</span></pre></td></tr><tr id="LN_279"><td align="right"><pre><a name="279">279</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:279','279')">                            <span style="color:blue">if</span>(logical(z))
</span></pre></td></tr><tr id="LN_280"><td align="right"><pre><a name="280">280</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:280','280')">                                temp_address_data = fi(address_data, 1, 7, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_281"><td align="right"><pre><a name="281">281</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:281','281')">                                addr_inc = fi(temp_address_data-1, 1, 8, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_282"><td align="right"><pre><a name="282">282</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:282','282')">                                PC_func = fi(1, 0, 2, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_283"><td align="right"><pre><a name="283">283</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:283','283')">                            <span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_284"><td align="right"><pre><a name="284">284</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:284','284')">                    <span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_285"><td align="right"><pre><a name="285">285</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:285','285')">                <span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_286"><td align="right"><pre><a name="286">286</a></pre></td><td align="left"><pre><span>                <span style="color:green">% Instructions having no operands</span>
</span></pre></td></tr><tr id="LN_287"><td align="right"><pre><a name="287">287</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:287','287')">                <span style="color:blue">switch</span>(uint8(minor_opcode))
</span></pre></td></tr><tr id="LN_288"><td align="right"><pre><a name="288">288</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:288','288')">                    <span style="color:blue">case</span> 8,
</span></pre></td></tr><tr id="LN_289"><td align="right"><pre><a name="289">289</a></pre></td><td align="left"><pre><span>                        <span style="color:green">% HLT</span>
</span></pre></td></tr><tr id="LN_290"><td align="right"><pre><a name="290">290</a></pre></td><td align="left"><pre><span>                        <span style="color:green">% Stop the simulation</span>
</span></pre></td></tr><tr id="LN_291"><td align="right"><pre><a name="291">291</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:291','291')">                        hlt = uint8(1);
</span></pre></td></tr><tr id="LN_292"><td align="right"><pre><a name="292">292</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:292','292')">                        CPU_state = uint8(22);
</span></pre></td></tr><tr id="LN_293"><td align="right"><pre><a name="293">293</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:293','293')">                    <span style="color:blue">case</span> 9, 
</span></pre></td></tr><tr id="LN_294"><td align="right"><pre><a name="294">294</a></pre></td><td align="left"><pre><span>                        <span style="color:green">% CLA</span>
</span></pre></td></tr><tr id="LN_295"><td align="right"><pre><a name="295">295</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:295','295')">                        AC_func = fi(0, 0, 3, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_296"><td align="right"><pre><a name="296">296</a></pre></td><td align="left"><pre><span>                        
</span></pre></td></tr><tr id="LN_297"><td align="right"><pre><a name="297">297</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:297','297')">                    <span style="color:blue">case</span> 10, 
</span></pre></td></tr><tr id="LN_298"><td align="right"><pre><a name="298">298</a></pre></td><td align="left"><pre><span>                        <span style="color:green">% CMA</span>
</span></pre></td></tr><tr id="LN_299"><td align="right"><pre><a name="299">299</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:299','299')">                        ALU_func = fi(4, 0, 3, 0, hdl_fm); 
</span></pre></td></tr><tr id="LN_300"><td align="right"><pre><a name="300">300</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:300','300')">                        shifter_sel = fi(3, 0, 2, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_301"><td align="right"><pre><a name="301">301</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:301','301')">                        CPU_state = uint8(6);
</span></pre></td></tr><tr id="LN_302"><td align="right"><pre><a name="302">302</a></pre></td><td align="left"><pre><span>                        
</span></pre></td></tr><tr id="LN_303"><td align="right"><pre><a name="303">303</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:303','303')">                    <span style="color:blue">case</span> 11, 
</span></pre></td></tr><tr id="LN_304"><td align="right"><pre><a name="304">304</a></pre></td><td align="left"><pre><span>                        <span style="color:green">% CMC</span>
</span></pre></td></tr><tr id="LN_305"><td align="right"><pre><a name="305">305</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:305','305')">                        ALU_func = fi(5, 0, 3, 0, hdl_fm); 
</span></pre></td></tr><tr id="LN_306"><td align="right"><pre><a name="306">306</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:306','306')">                        shifter_sel = fi(3, 0, 2, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_307"><td align="right"><pre><a name="307">307</a></pre></td><td align="left"><pre><span>                        
</span></pre></td></tr><tr id="LN_308"><td align="right"><pre><a name="308">308</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:308','308')">                    <span style="color:blue">case</span> 12, 
</span></pre></td></tr><tr id="LN_309"><td align="right"><pre><a name="309">309</a></pre></td><td align="left"><pre><span>                        <span style="color:green">% ASL</span>
</span></pre></td></tr><tr id="LN_310"><td align="right"><pre><a name="310">310</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:310','310')">                        shifter_sel = fi(1, 0, 2, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_311"><td align="right"><pre><a name="311">311</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:311','311')">                        CPU_state = uint8(6);
</span></pre></td></tr><tr id="LN_312"><td align="right"><pre><a name="312">312</a></pre></td><td align="left"><pre><span>                        
</span></pre></td></tr><tr id="LN_313"><td align="right"><pre><a name="313">313</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:313','313')">                    <span style="color:blue">case</span> 13, 
</span></pre></td></tr><tr id="LN_314"><td align="right"><pre><a name="314">314</a></pre></td><td align="left"><pre><span>                        <span style="color:green">% ASR</span>
</span></pre></td></tr><tr id="LN_315"><td align="right"><pre><a name="315">315</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:315','315')">                        shifter_sel = fi(2, 0, 2, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_316"><td align="right"><pre><a name="316">316</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:316','316')">                        CPU_state = uint8(6);
</span></pre></td></tr><tr id="LN_317"><td align="right"><pre><a name="317">317</a></pre></td><td align="left"><pre><span>                        
</span></pre></td></tr><tr id="LN_318"><td align="right"><pre><a name="318">318</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:318','318')">                    <span style="color:blue">case</span> 14, 
</span></pre></td></tr><tr id="LN_319"><td align="right"><pre><a name="319">319</a></pre></td><td align="left"><pre><span>                        <span style="color:green">% PRINT   </span>
</span></pre></td></tr><tr id="LN_320"><td align="right"><pre><a name="320">320</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:320','320')">                        DM_addr = uint8(255);
</span></pre></td></tr><tr id="LN_321"><td align="right"><pre><a name="321">321</a></pre></td><td align="left"><pre><span>                        <span style="color:green">% Read the data memory</span>
</span></pre></td></tr><tr id="LN_322"><td align="right"><pre><a name="322">322</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:322','322')">                        DM_r_w = fi(0, 0, 1, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_323"><td align="right"><pre><a name="323">323</a></pre></td><td align="left"><pre><span>                        
</span></pre></td></tr><tr id="LN_324"><td align="right"><pre><a name="324">324</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:324','324')">                        CPU_state = uint8(12);
</span></pre></td></tr><tr id="LN_325"><td align="right"><pre><a name="325">325</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_326"><td align="right"><pre><a name="326">326</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:326','326')">                    <span style="color:blue">case</span> 15, 
</span></pre></td></tr><tr id="LN_327"><td align="right"><pre><a name="327">327</a></pre></td><td align="left"><pre><span>                        <span style="color:green">% CLC</span>
</span></pre></td></tr><tr id="LN_328"><td align="right"><pre><a name="328">328</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:328','328')">                        ALU_func = fi(7, 0, 3, 0, hdl_fm); 
</span></pre></td></tr><tr id="LN_329"><td align="right"><pre><a name="329">329</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:329','329')">                        shifter_sel = fi(3, 0, 2, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_330"><td align="right"><pre><a name="330">330</a></pre></td><td align="left"><pre><span>                        
</span></pre></td></tr><tr id="LN_331"><td align="right"><pre><a name="331">331</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:331','331')">                    <span style="color:blue">otherwise</span>,
</span></pre></td></tr><tr id="LN_332"><td align="right"><pre><a name="332">332</a></pre></td><td align="left"><pre><span>                        <span style="color:green">% by default, go back to the fetch stage again</span>
</span></pre></td></tr><tr id="LN_333"><td align="right"><pre><a name="333">333</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:333','333')">                        CPU_state = uint8(1);
</span></pre></td></tr><tr id="LN_334"><td align="right"><pre><a name="334">334</a></pre></td><td align="left"><pre><span>  
</span></pre></td></tr><tr id="LN_335"><td align="right"><pre><a name="335">335</a></pre></td><td align="left"><pre><span>                <span style="color:green">% Minor Opcode cases end here        </span>
</span></pre></td></tr><tr id="LN_336"><td align="right"><pre><a name="336">336</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:336','336')">                <span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_337"><td align="right"><pre><a name="337">337</a></pre></td><td align="left"><pre><span>        <span style="color:green">% Major Opcode cases end here</span>
</span></pre></td></tr><tr id="LN_338"><td align="right"><pre><a name="338">338</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:338','338')">        <span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_339"><td align="right"><pre><a name="339">339</a></pre></td><td align="left"><pre><span>    
</span></pre></td></tr><tr id="LN_340"><td align="right"><pre><a name="340">340</a></pre></td><td align="left"><pre><span>    <span style="color:green">% introducing delay</span>
</span></pre></td></tr><tr id="LN_341"><td align="right"><pre><a name="341">341</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:341','341')">    <span style="color:blue">case</span> 6,
</span></pre></td></tr><tr id="LN_342"><td align="right"><pre><a name="342">342</a></pre></td><td align="left"><pre><span>        <span style="color:green">% accounting for the delay from shift_out to AC_in2</span>
</span></pre></td></tr><tr id="LN_343"><td align="right"><pre><a name="343">343</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:343','343')">        AC_func = fi(2, 0, 3, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_344"><td align="right"><pre><a name="344">344</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:344','344')">        previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_345"><td align="right"><pre><a name="345">345</a></pre></td><td align="left"><pre><span>        <span style="color:green">% Go back to the fetch stage again</span>
</span></pre></td></tr><tr id="LN_346"><td align="right"><pre><a name="346">346</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:346','346')">        CPU_state = uint8(1);  
</span></pre></td></tr><tr id="LN_347"><td align="right"><pre><a name="347">347</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_348"><td align="right"><pre><a name="348">348</a></pre></td><td align="left"><pre><span>    <span style="color:green">% Operations with indirect addressing</span>
</span></pre></td></tr><tr id="LN_349"><td align="right"><pre><a name="349">349</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:349','349')">    <span style="color:blue">case</span> 7,
</span></pre></td></tr><tr id="LN_350"><td align="right"><pre><a name="350">350</a></pre></td><td align="left"><pre><span>        <span style="color:green">% LDA Indirect</span>
</span></pre></td></tr><tr id="LN_351"><td align="right"><pre><a name="351">351</a></pre></td><td align="left"><pre><span>        <span style="color:green">% data_in is the address read from the data memory</span>
</span></pre></td></tr><tr id="LN_352"><td align="right"><pre><a name="352">352</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:352','352')">        DM_addr = indirect_address; 
</span></pre></td></tr><tr id="LN_353"><td align="right"><pre><a name="353">353</a></pre></td><td align="left"><pre><span>        <span style="color:green">% Read the data memory</span>
</span></pre></td></tr><tr id="LN_354"><td align="right"><pre><a name="354">354</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:354','354')">        DM_r_w = fi(0, 0, 1, 0, hdl_fm); 
</span></pre></td></tr><tr id="LN_355"><td align="right"><pre><a name="355">355</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_356"><td align="right"><pre><a name="356">356</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:356','356')">        previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_357"><td align="right"><pre><a name="357">357</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:357','357')">        CPU_state = uint8(13);
</span></pre></td></tr><tr id="LN_358"><td align="right"><pre><a name="358">358</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_359"><td align="right"><pre><a name="359">359</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:359','359')">    <span style="color:blue">case</span> 8,
</span></pre></td></tr><tr id="LN_360"><td align="right"><pre><a name="360">360</a></pre></td><td align="left"><pre><span>        <span style="color:green">% AND Indirect</span>
</span></pre></td></tr><tr id="LN_361"><td align="right"><pre><a name="361">361</a></pre></td><td align="left"><pre><span>        <span style="color:green">% data_in is the address read from the data memory</span>
</span></pre></td></tr><tr id="LN_362"><td align="right"><pre><a name="362">362</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:362','362')">        DM_addr = indirect_address;
</span></pre></td></tr><tr id="LN_363"><td align="right"><pre><a name="363">363</a></pre></td><td align="left"><pre><span>        <span style="color:green">% Read the data memory</span>
</span></pre></td></tr><tr id="LN_364"><td align="right"><pre><a name="364">364</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:364','364')">        DM_r_w = fi(0, 0, 1, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_365"><td align="right"><pre><a name="365">365</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_366"><td align="right"><pre><a name="366">366</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:366','366')">        previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_367"><td align="right"><pre><a name="367">367</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:367','367')">        CPU_state = uint8(15);
</span></pre></td></tr><tr id="LN_368"><td align="right"><pre><a name="368">368</a></pre></td><td align="left"><pre><span>    
</span></pre></td></tr><tr id="LN_369"><td align="right"><pre><a name="369">369</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:369','369')">    <span style="color:blue">case</span> 9,
</span></pre></td></tr><tr id="LN_370"><td align="right"><pre><a name="370">370</a></pre></td><td align="left"><pre><span>        <span style="color:green">% ADD Indirect</span>
</span></pre></td></tr><tr id="LN_371"><td align="right"><pre><a name="371">371</a></pre></td><td align="left"><pre><span>        <span style="color:green">% data_in is the address read from the data memory</span>
</span></pre></td></tr><tr id="LN_372"><td align="right"><pre><a name="372">372</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:372','372')">        DM_addr = indirect_address;
</span></pre></td></tr><tr id="LN_373"><td align="right"><pre><a name="373">373</a></pre></td><td align="left"><pre><span>        <span style="color:green">% Read the data memory</span>
</span></pre></td></tr><tr id="LN_374"><td align="right"><pre><a name="374">374</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:374','374')">        DM_r_w = fi(0, 0, 1, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_375"><td align="right"><pre><a name="375">375</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_376"><td align="right"><pre><a name="376">376</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:376','376')">        previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_377"><td align="right"><pre><a name="377">377</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:377','377')">        CPU_state = uint8(17);
</span></pre></td></tr><tr id="LN_378"><td align="right"><pre><a name="378">378</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_379"><td align="right"><pre><a name="379">379</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:379','379')">    <span style="color:blue">case</span> 10,
</span></pre></td></tr><tr id="LN_380"><td align="right"><pre><a name="380">380</a></pre></td><td align="left"><pre><span>        <span style="color:green">% SUB Indirect</span>
</span></pre></td></tr><tr id="LN_381"><td align="right"><pre><a name="381">381</a></pre></td><td align="left"><pre><span>        <span style="color:green">% data_in is the address read from the data memory</span>
</span></pre></td></tr><tr id="LN_382"><td align="right"><pre><a name="382">382</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:382','382')">        DM_addr = indirect_address;
</span></pre></td></tr><tr id="LN_383"><td align="right"><pre><a name="383">383</a></pre></td><td align="left"><pre><span>        <span style="color:green">% Read the data memory</span>
</span></pre></td></tr><tr id="LN_384"><td align="right"><pre><a name="384">384</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:384','384')">        DM_r_w = fi(0, 0, 1, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_385"><td align="right"><pre><a name="385">385</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_386"><td align="right"><pre><a name="386">386</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:386','386')">        previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_387"><td align="right"><pre><a name="387">387</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:387','387')">        CPU_state = uint8(19);
</span></pre></td></tr><tr id="LN_388"><td align="right"><pre><a name="388">388</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_389"><td align="right"><pre><a name="389">389</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:389','389')">    <span style="color:blue">case</span> 11,
</span></pre></td></tr><tr id="LN_390"><td align="right"><pre><a name="390">390</a></pre></td><td align="left"><pre><span>        <span style="color:green">% STA Indirect</span>
</span></pre></td></tr><tr id="LN_391"><td align="right"><pre><a name="391">391</a></pre></td><td align="left"><pre><span>        <span style="color:green">% data_in is the address read from the data memory</span>
</span></pre></td></tr><tr id="LN_392"><td align="right"><pre><a name="392">392</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:392','392')">        DM_addr = uint8(data_in);
</span></pre></td></tr><tr id="LN_393"><td align="right"><pre><a name="393">393</a></pre></td><td align="left"><pre><span>        <span style="color:green">% Write the data memory</span>
</span></pre></td></tr><tr id="LN_394"><td align="right"><pre><a name="394">394</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:394','394')">        DM_r_w = fi(1, 0, 1, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_395"><td align="right"><pre><a name="395">395</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:395','395')">        previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_396"><td align="right"><pre><a name="396">396</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:396','396')">        CPU_state = uint8(1);
</span></pre></td></tr><tr id="LN_397"><td align="right"><pre><a name="397">397</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_398"><td align="right"><pre><a name="398">398</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:398','398')">    <span style="color:blue">case</span> 12,
</span></pre></td></tr><tr id="LN_399"><td align="right"><pre><a name="399">399</a></pre></td><td align="left"><pre><span>        <span style="color:green">% PRINT</span>
</span></pre></td></tr><tr id="LN_400"><td align="right"><pre><a name="400">400</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:400','400')">        print_data = true;
</span></pre></td></tr><tr id="LN_401"><td align="right"><pre><a name="401">401</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:401','401')">        previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_402"><td align="right"><pre><a name="402">402</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:402','402')">        CPU_state = uint8(1);
</span></pre></td></tr><tr id="LN_403"><td align="right"><pre><a name="403">403</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_404"><td align="right"><pre><a name="404">404</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:404','404')">    <span style="color:blue">case</span> 13,
</span></pre></td></tr><tr id="LN_405"><td align="right"><pre><a name="405">405</a></pre></td><td align="left"><pre><span>        <span style="color:green">% LDA (contd.)</span>
</span></pre></td></tr><tr id="LN_406"><td align="right"><pre><a name="406">406</a></pre></td><td align="left"><pre><span>        <span style="color:green">% Simply pass the value read from memory</span>
</span></pre></td></tr><tr id="LN_407"><td align="right"><pre><a name="407">407</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:407','407')">        ALU_func = fi(6, 0, 3, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_408"><td align="right"><pre><a name="408">408</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:408','408')">        shifter_sel = fi(3, 0, 2, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_409"><td align="right"><pre><a name="409">409</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_410"><td align="right"><pre><a name="410">410</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:410','410')">        <span style="color:blue">if</span>(previous_CPU_state == uint8(4))
</span></pre></td></tr><tr id="LN_411"><td align="right"><pre><a name="411">411</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:411','411')">            previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_412"><td align="right"><pre><a name="412">412</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:412','412')">            CPU_state = uint8(14);
</span></pre></td></tr><tr id="LN_413"><td align="right"><pre><a name="413">413</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:413','413')">        <span style="color:blue">else</span>
</span></pre></td></tr><tr id="LN_414"><td align="right"><pre><a name="414">414</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:414','414')">            previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_415"><td align="right"><pre><a name="415">415</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:415','415')">            CPU_state = uint8(6);
</span></pre></td></tr><tr id="LN_416"><td align="right"><pre><a name="416">416</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:416','416')">        <span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_417"><td align="right"><pre><a name="417">417</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_418"><td align="right"><pre><a name="418">418</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:418','418')">    <span style="color:blue">case</span> 14,
</span></pre></td></tr><tr id="LN_419"><td align="right"><pre><a name="419">419</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:419','419')">        indirect_bit = bitget(minor_opcode, 6);
</span></pre></td></tr><tr id="LN_420"><td align="right"><pre><a name="420">420</a></pre></td><td align="left"><pre><span>        <span style="color:green">% accounting for the delay from shift_out to AC_in2</span>
</span></pre></td></tr><tr id="LN_421"><td align="right"><pre><a name="421">421</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:421','421')">        AC_func = fi(2, 0, 3, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_422"><td align="right"><pre><a name="422">422</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_423"><td align="right"><pre><a name="423">423</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:423','423')">        previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_424"><td align="right"><pre><a name="424">424</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:424','424')">        <span style="color:blue">if</span>(logical(indirect_bit))
</span></pre></td></tr><tr id="LN_425"><td align="right"><pre><a name="425">425</a></pre></td><td align="left"><pre><span>            <span style="color:green">% indirect addressing</span>
</span></pre></td></tr><tr id="LN_426"><td align="right"><pre><a name="426">426</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:426','426')">            indirect_address = uint8(data_in);
</span></pre></td></tr><tr id="LN_427"><td align="right"><pre><a name="427">427</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:427','427')">            CPU_state = uint8(7);
</span></pre></td></tr><tr id="LN_428"><td align="right"><pre><a name="428">428</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:428','428')">        <span style="color:blue">else</span>
</span></pre></td></tr><tr id="LN_429"><td align="right"><pre><a name="429">429</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:429','429')">            CPU_state = uint8(25);
</span></pre></td></tr><tr id="LN_430"><td align="right"><pre><a name="430">430</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:430','430')">        <span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_431"><td align="right"><pre><a name="431">431</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_432"><td align="right"><pre><a name="432">432</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:432','432')">    <span style="color:blue">case</span> 15,
</span></pre></td></tr><tr id="LN_433"><td align="right"><pre><a name="433">433</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_434"><td align="right"><pre><a name="434">434</a></pre></td><td align="left"><pre><span>        <span style="color:green">% AND (contd.)</span>
</span></pre></td></tr><tr id="LN_435"><td align="right"><pre><a name="435">435</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:435','435')">        ALU_func = fi(1, 0, 3, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_436"><td align="right"><pre><a name="436">436</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:436','436')">        shifter_sel = fi(3, 0, 2, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_437"><td align="right"><pre><a name="437">437</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_438"><td align="right"><pre><a name="438">438</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:438','438')">        <span style="color:blue">if</span>(previous_CPU_state == uint8(4))
</span></pre></td></tr><tr id="LN_439"><td align="right"><pre><a name="439">439</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:439','439')">            previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_440"><td align="right"><pre><a name="440">440</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:440','440')">            CPU_state = uint8(16);
</span></pre></td></tr><tr id="LN_441"><td align="right"><pre><a name="441">441</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:441','441')">        <span style="color:blue">else</span>
</span></pre></td></tr><tr id="LN_442"><td align="right"><pre><a name="442">442</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:442','442')">            previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_443"><td align="right"><pre><a name="443">443</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:443','443')">            CPU_state = uint8(6);
</span></pre></td></tr><tr id="LN_444"><td align="right"><pre><a name="444">444</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:444','444')">        <span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_445"><td align="right"><pre><a name="445">445</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_446"><td align="right"><pre><a name="446">446</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:446','446')">    <span style="color:blue">case</span> 16,
</span></pre></td></tr><tr id="LN_447"><td align="right"><pre><a name="447">447</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:447','447')">        indirect_bit = bitget(minor_opcode, 6);
</span></pre></td></tr><tr id="LN_448"><td align="right"><pre><a name="448">448</a></pre></td><td align="left"><pre><span>        <span style="color:green">% accounting for the delay from shift_out to AC_in2</span>
</span></pre></td></tr><tr id="LN_449"><td align="right"><pre><a name="449">449</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:449','449')">        AC_func = fi(2, 0, 3, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_450"><td align="right"><pre><a name="450">450</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_451"><td align="right"><pre><a name="451">451</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:451','451')">        previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_452"><td align="right"><pre><a name="452">452</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:452','452')">        <span style="color:blue">if</span>(logical(indirect_bit))
</span></pre></td></tr><tr id="LN_453"><td align="right"><pre><a name="453">453</a></pre></td><td align="left"><pre><span>            <span style="color:green">% indirect addressing</span>
</span></pre></td></tr><tr id="LN_454"><td align="right"><pre><a name="454">454</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:454','454')">            indirect_address = uint8(data_in);
</span></pre></td></tr><tr id="LN_455"><td align="right"><pre><a name="455">455</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:455','455')">            CPU_state = uint8(8);
</span></pre></td></tr><tr id="LN_456"><td align="right"><pre><a name="456">456</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:456','456')">        <span style="color:blue">else</span>
</span></pre></td></tr><tr id="LN_457"><td align="right"><pre><a name="457">457</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:457','457')">            CPU_state = uint8(25);
</span></pre></td></tr><tr id="LN_458"><td align="right"><pre><a name="458">458</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:458','458')">        <span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_459"><td align="right"><pre><a name="459">459</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_460"><td align="right"><pre><a name="460">460</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:460','460')">    <span style="color:blue">case</span> 17,
</span></pre></td></tr><tr id="LN_461"><td align="right"><pre><a name="461">461</a></pre></td><td align="left"><pre><span>        <span style="color:green">% ADD (contd.)</span>
</span></pre></td></tr><tr id="LN_462"><td align="right"><pre><a name="462">462</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:462','462')">        ALU_func = fi(2, 0, 3, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_463"><td align="right"><pre><a name="463">463</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:463','463')">        shifter_sel = fi(3, 0, 2, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_464"><td align="right"><pre><a name="464">464</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_465"><td align="right"><pre><a name="465">465</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:465','465')">        <span style="color:blue">if</span>(previous_CPU_state == uint8(4))
</span></pre></td></tr><tr id="LN_466"><td align="right"><pre><a name="466">466</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:466','466')">            previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_467"><td align="right"><pre><a name="467">467</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:467','467')">            CPU_state = uint8(18);
</span></pre></td></tr><tr id="LN_468"><td align="right"><pre><a name="468">468</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:468','468')">        <span style="color:blue">else</span>
</span></pre></td></tr><tr id="LN_469"><td align="right"><pre><a name="469">469</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:469','469')">            previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_470"><td align="right"><pre><a name="470">470</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:470','470')">            CPU_state = uint8(6);
</span></pre></td></tr><tr id="LN_471"><td align="right"><pre><a name="471">471</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:471','471')">        <span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_472"><td align="right"><pre><a name="472">472</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_473"><td align="right"><pre><a name="473">473</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:473','473')">    <span style="color:blue">case</span> 18,
</span></pre></td></tr><tr id="LN_474"><td align="right"><pre><a name="474">474</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:474','474')">        indirect_bit = bitget(minor_opcode, 6);
</span></pre></td></tr><tr id="LN_475"><td align="right"><pre><a name="475">475</a></pre></td><td align="left"><pre><span>        <span style="color:green">% accounting for the delay from shift_out to AC_in2</span>
</span></pre></td></tr><tr id="LN_476"><td align="right"><pre><a name="476">476</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:476','476')">        AC_func = fi(2, 0, 3, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_477"><td align="right"><pre><a name="477">477</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_478"><td align="right"><pre><a name="478">478</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:478','478')">        previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_479"><td align="right"><pre><a name="479">479</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:479','479')">        <span style="color:blue">if</span>(logical(indirect_bit))
</span></pre></td></tr><tr id="LN_480"><td align="right"><pre><a name="480">480</a></pre></td><td align="left"><pre><span>            <span style="color:green">% indirect addressing</span>
</span></pre></td></tr><tr id="LN_481"><td align="right"><pre><a name="481">481</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:481','481')">            indirect_address = uint8(data_in);
</span></pre></td></tr><tr id="LN_482"><td align="right"><pre><a name="482">482</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:482','482')">            CPU_state = uint8(9);
</span></pre></td></tr><tr id="LN_483"><td align="right"><pre><a name="483">483</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:483','483')">        <span style="color:blue">else</span>
</span></pre></td></tr><tr id="LN_484"><td align="right"><pre><a name="484">484</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:484','484')">            CPU_state = uint8(25);
</span></pre></td></tr><tr id="LN_485"><td align="right"><pre><a name="485">485</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:485','485')">        <span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_486"><td align="right"><pre><a name="486">486</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_487"><td align="right"><pre><a name="487">487</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:487','487')">    <span style="color:blue">case</span> 19,
</span></pre></td></tr><tr id="LN_488"><td align="right"><pre><a name="488">488</a></pre></td><td align="left"><pre><span>        <span style="color:green">% SUB (contd.)</span>
</span></pre></td></tr><tr id="LN_489"><td align="right"><pre><a name="489">489</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:489','489')">        ALU_func = fi(3, 0, 3, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_490"><td align="right"><pre><a name="490">490</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:490','490')">        shifter_sel = fi(3, 0, 2, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_491"><td align="right"><pre><a name="491">491</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_492"><td align="right"><pre><a name="492">492</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:492','492')">        <span style="color:blue">if</span>(previous_CPU_state == uint8(4))
</span></pre></td></tr><tr id="LN_493"><td align="right"><pre><a name="493">493</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:493','493')">            previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_494"><td align="right"><pre><a name="494">494</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:494','494')">            CPU_state = uint8(20);
</span></pre></td></tr><tr id="LN_495"><td align="right"><pre><a name="495">495</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:495','495')">        <span style="color:blue">else</span>
</span></pre></td></tr><tr id="LN_496"><td align="right"><pre><a name="496">496</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:496','496')">            previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_497"><td align="right"><pre><a name="497">497</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:497','497')">            CPU_state = uint8(6);
</span></pre></td></tr><tr id="LN_498"><td align="right"><pre><a name="498">498</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:498','498')">        <span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_499"><td align="right"><pre><a name="499">499</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_500"><td align="right"><pre><a name="500">500</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:500','500')">    <span style="color:blue">case</span> 20,
</span></pre></td></tr><tr id="LN_501"><td align="right"><pre><a name="501">501</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:501','501')">        indirect_bit = bitget(minor_opcode, 6);
</span></pre></td></tr><tr id="LN_502"><td align="right"><pre><a name="502">502</a></pre></td><td align="left"><pre><span>        <span style="color:green">% accounting for the delay from shift_out to AC_in2</span>
</span></pre></td></tr><tr id="LN_503"><td align="right"><pre><a name="503">503</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:503','503')">        AC_func = fi(2, 0, 3, 0, hdl_fm);
</span></pre></td></tr><tr id="LN_504"><td align="right"><pre><a name="504">504</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_505"><td align="right"><pre><a name="505">505</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:505','505')">        previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_506"><td align="right"><pre><a name="506">506</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:506','506')">        <span style="color:blue">if</span>(logical(indirect_bit))
</span></pre></td></tr><tr id="LN_507"><td align="right"><pre><a name="507">507</a></pre></td><td align="left"><pre><span>            <span style="color:green">% indirect addressing</span>
</span></pre></td></tr><tr id="LN_508"><td align="right"><pre><a name="508">508</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:508','508')">            indirect_address = uint8(data_in);
</span></pre></td></tr><tr id="LN_509"><td align="right"><pre><a name="509">509</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:509','509')">            CPU_state = uint8(10);
</span></pre></td></tr><tr id="LN_510"><td align="right"><pre><a name="510">510</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:510','510')">        <span style="color:blue">else</span>
</span></pre></td></tr><tr id="LN_511"><td align="right"><pre><a name="511">511</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_512"><td align="right"><pre><a name="512">512</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:512','512')">            CPU_state = uint8(25);
</span></pre></td></tr><tr id="LN_513"><td align="right"><pre><a name="513">513</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:513','513')">        <span style="color:blue">end</span>
</span></pre></td></tr><tr id="LN_514"><td align="right"><pre><a name="514">514</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_515"><td align="right"><pre><a name="515">515</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:515','515')">    <span style="color:blue">case</span> 21,
</span></pre></td></tr><tr id="LN_516"><td align="right"><pre><a name="516">516</a></pre></td><td align="left"><pre><span>        <span style="color:green">% STA indirect</span>
</span></pre></td></tr><tr id="LN_517"><td align="right"><pre><a name="517">517</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:517','517')">        CPU_state = uint8(11);
</span></pre></td></tr><tr id="LN_518"><td align="right"><pre><a name="518">518</a></pre></td><td align="left"><pre><span>        
</span></pre></td></tr><tr id="LN_519"><td align="right"><pre><a name="519">519</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:519','519')">    <span style="color:blue">case</span> 22,
</span></pre></td></tr><tr id="LN_520"><td align="right"><pre><a name="520">520</a></pre></td><td align="left"><pre><span>        <span style="color:green">% lock state</span>
</span></pre></td></tr><tr id="LN_521"><td align="right"><pre><a name="521">521</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:521','521')">        hlt = uint8(1);
</span></pre></td></tr><tr id="LN_522"><td align="right"><pre><a name="522">522</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:522','522')">        CPU_state = uint8(22);
</span></pre></td></tr><tr id="LN_523"><td align="right"><pre><a name="523">523</a></pre></td><td align="left"><pre><span>
</span></pre></td></tr><tr id="LN_524"><td align="right"><pre><a name="524">524</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:524','524')">    <span style="color:blue">otherwise</span>,
</span></pre></td></tr><tr id="LN_525"><td align="right"><pre><a name="525">525</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:525','525')">        previous_CPU_state = CPU_state;
</span></pre></td></tr><tr id="LN_526"><td align="right"><pre><a name="526">526</a></pre></td><td align="left"><pre><span>        <span style="color:green">% by default, go back to the fetch stage again</span>
</span></pre></td></tr><tr id="LN_527"><td align="right"><pre><a name="527">527</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:527','527')">        CPU_state = uint8(1);
</span></pre></td></tr><tr id="LN_528"><td align="right"><pre><a name="528">528</a></pre></td><td align="left"><pre><span>                
</span></pre></td></tr><tr id="LN_529"><td align="right"><pre><a name="529">529</a></pre></td><td align="left"><pre><span><span style="color:green">% switch(CPU_state) end here</span>
</span></pre></td></tr><tr id="LN_530"><td align="right"><pre><a name="530">530</a></pre></td><td align="left"><pre><span style="cursor:pointer;" title="Click line to highlight C Code" onclick="javascript:if (top) top.emlLineOnClick(document, 'hdlcodercpu_eml:5:1:530','530')"><span style="color:blue">end</span>
</span></pre></td></tr></table></body></html>